{"version":3,"sources":["assets/images/footer.jpg","assets/images/hexad-small-logo.png","context/GlobalContext.models.ts","context/GlobalContext.reducer.ts","context/GlobalContext.tsx","components/card/Card.tsx","components/logo/Logo.tsx","components/footer/Footer.tsx","components/header/Header.tsx","service/GameService.ts","containers/MainPage.tsx","App.tsx","index.tsx"],"names":["module","exports","GlobalActionTypes","GlobalContextAction","type","payload","this","initialState","gamesDictionary","ids","reducer","state","action","SET_GAMES","games","map","game","id","reduce","previous","current","RATE_GAME","rating","GlobalContext","React","createContext","GlobalContextProvider","children","initialContext","initialContextState","useReducer","Provider","value","useStyles","makeStyles","theme","root","width","margin","fontFamily","media","height","display","justifyContent","AppCard","props","name","image","useContext","dispatch","classes","Card","className","CardHeader","style","title","CardMedia","CardContent","Rating","size","onChange","event","newValue","Logo","Box","marginBottom","alt","src","logo","Footer","backgroundImage","footerImage","alignItems","flexDirection","marginTop","padding","Typography","Header","Fragment","fontSize","marginRight","variant","component","GameService","buttonActive$","Subject","gameList$","BehaviorSubject","_instance","getInstance","MainPage","context","onDestroy","pipe","takeUntil","subscribe","next","sort","firstRating","sortedGames","sortGamesByRating","Container","maxWidth","flexWrap","key","Component","contextType","App","createMuiTheme","typography","ThemeProvider","CssBaseline","data-testid","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b75e807e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/footer.909d5f54.jpg\";","module.exports = __webpack_public_path__ + \"static/media/hexad-small-logo.cf77f030.png\";","import React from 'react';\r\n\r\nexport class GlobalContextAction<ActionType, PayloadType> {\r\n  public type: ActionType;\r\n  public payload: PayloadType;\r\n  constructor(type: ActionType, payload: PayloadType) {\r\n    this.type = type;\r\n    this.payload = payload;\r\n  }\r\n}\r\n\r\nexport interface IGame {\r\n  id: string;\r\n  name: string;\r\n  image: string;\r\n  rating: number;\r\n}\r\n\r\nexport interface IGlobalContext {\r\n  gamesDictionary: { [key: string]: IGame };\r\n  ids: string[];\r\n}\r\n\r\n/**\r\n * Initial state;\r\n */\r\nexport const initialState: IGlobalContext = {\r\n  gamesDictionary: {},\r\n  ids: []\r\n};\r\n\r\nexport interface RatePayload {\r\n  id: string;\r\n  rating: number;\r\n}\r\n\r\nexport type GlobalPayloadType = IGame[] | RatePayload;\r\n\r\nexport enum GlobalActionTypes {\r\n  SET_GAMES = 'SET_GAMES',\r\n  RATE_GAME = 'RATE_GAME'\r\n}\r\n\r\n/**\r\n * Type of the useReducer;\r\n */\r\nexport type GlobalContextValue = [\r\n  IGlobalContext,\r\n  React.Dispatch<GlobalContextAction<GlobalActionTypes, GlobalPayloadType>>\r\n];\r\n","import {\r\n  GlobalActionTypes,\r\n  GlobalContextAction,\r\n  GlobalPayloadType,\r\n  IGame,\r\n  IGlobalContext,\r\n  RatePayload\r\n} from './GlobalContext.models';\r\n\r\nexport const reducer = (\r\n  state: IGlobalContext,\r\n  action: GlobalContextAction<GlobalActionTypes, GlobalPayloadType>\r\n): IGlobalContext => {\r\n  switch (action.type) {\r\n    case GlobalActionTypes.SET_GAMES: {\r\n      const games = action.payload as IGame[];\r\n\r\n      return {\r\n        ...state,\r\n        ids: games.map((game: IGame): string => game.id),\r\n        gamesDictionary: games.reduce((previous, current: IGame) => {\r\n          return {\r\n            ...previous,\r\n            [current.id]: current\r\n          };\r\n        }, {})\r\n      };\r\n    }\r\n\r\n    case GlobalActionTypes.RATE_GAME: {\r\n      const { id, rating } = action.payload as RatePayload;\r\n\r\n      return {\r\n        ...state,\r\n        gamesDictionary: {\r\n          ...state.gamesDictionary,\r\n          [id]: {\r\n            ...state.gamesDictionary[id],\r\n            rating\r\n          }\r\n        }\r\n      };\r\n    }\r\n  }\r\n\r\n  return state;\r\n};\r\n","import React from 'react';\r\nimport { reducer } from './GlobalContext.reducer';\r\nimport {\r\n  IGlobalContext,\r\n  initialState,\r\n  GlobalContextValue\r\n} from './GlobalContext.models';\r\n\r\n/**\r\n * Initial state to the useReducer.\r\n */\r\n\r\nexport const GlobalContext = React.createContext<GlobalContextValue>(\r\n  {} as GlobalContextValue\r\n);\r\n\r\n/**\r\n * @param param0 children.\r\n */\r\nexport const GlobalContextProvider = ({\r\n  children,\r\n  initialContext = {}\r\n}: {\r\n  children: JSX.Element | JSX.Element[];\r\n  initialContext?: Partial<IGlobalContext>;\r\n}): JSX.Element => {\r\n  const initialContextState = React.useReducer(reducer, {\r\n    ...initialState,\r\n    ...initialContext\r\n  });\r\n  return (\r\n    <GlobalContext.Provider value={initialContextState}>\r\n      {children}\r\n    </GlobalContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useGlobalContext = (): GlobalContextValue =>\r\n  React.useContext<GlobalContextValue>(GlobalContext);\r\n","import {\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n  CardMedia,\r\n  makeStyles\r\n} from '@material-ui/core';\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport React from 'react';\r\nimport {\r\n  IGame,\r\n  useGlobalContext,\r\n  GlobalContextAction,\r\n  GlobalActionTypes\r\n} from '../../context';\r\nimport { RatePayload } from './../../context';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '18rem',\r\n    margin: '0.5rem',\r\n    fontFamily: 'Montserrat'\r\n  },\r\n  media: {\r\n    height: '25rem',\r\n    margin: '0 -7% 0 -7%'\r\n  },\r\n  rating: {\r\n    display: 'flex',\r\n    justifyContent: 'center'\r\n  }\r\n}));\r\n\r\nexport const AppCard = (props: IGame): JSX.Element => {\r\n  const { name, rating, image, id } = props;\r\n  const [, dispatch] = useGlobalContext();\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardHeader\r\n        style={{\r\n          height: '6rem'\r\n        }}\r\n        title={name}\r\n      />\r\n      <CardMedia className={classes.media} image={image} title={name} />\r\n      <CardContent>\r\n        <Rating\r\n          name={image}\r\n          size='large'\r\n          value={rating}\r\n          className={classes.rating}\r\n          onChange={(event, newValue) => {\r\n            dispatch(\r\n              new GlobalContextAction<GlobalActionTypes, RatePayload>(\r\n                GlobalActionTypes.RATE_GAME,\r\n                { id, rating: newValue ?? rating }\r\n              )\r\n            );\r\n          }}\r\n        />\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n","import { Box } from '@material-ui/core';\r\nimport React from 'react';\r\nimport logo from '../../assets/images/hexad-small-logo.png';\r\n\r\nconst Logo = () => {\r\n  return (\r\n    <Box\r\n      style={{\r\n        marginBottom: '1rem'\r\n      }}\r\n    >\r\n      <img\r\n        className='app-logo'\r\n        alt={'logo'}\r\n        style={{\r\n          height: '3rem',\r\n          width: '3rem'\r\n        }}\r\n        src={logo}\r\n      />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Logo;\r\n","import React from 'react';\r\nimport { Box, Typography } from '@material-ui/core';\r\nimport footerImage from '../../assets/images/footer.jpg';\r\nimport { Logo } from '../logo';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <Box\r\n      style={{\r\n        backgroundImage: `url(${footerImage})`,\r\n        width: '100%',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        flexDirection: 'column',\r\n        marginTop: '1rem',\r\n        padding: '5rem 0'\r\n      }}\r\n    >\r\n      <Logo />\r\n      <Typography>Porschestraße 58, 38440,</Typography>\r\n      <Typography>Wolfsburg, Germany</Typography>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import { Box, Typography } from '@material-ui/core';\r\nimport { default as SportsEsportsIcon } from '@material-ui/icons/SportsEsports';\r\nimport React from 'react';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <Box\r\n      style={{\r\n        padding: '1rem',\r\n        display: 'flex'\r\n      }}\r\n    >\r\n      <React.Fragment>\r\n        <SportsEsportsIcon\r\n          style={{\r\n            fontSize: '2rem',\r\n            marginRight: '1rem'\r\n          }}\r\n        />\r\n        <Typography variant='h4' component='h4'>\r\n          Rating Games Assignment ;)\r\n        </Typography>\r\n      </React.Fragment>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { IGame } from '../context';\r\nimport { BehaviorSubject, Subject } from 'rxjs';\r\nimport initialState from '../mock_data/game_list.json';\r\n\r\ninterface IGameService {\r\n  buttonActive$: Subject<boolean>;\r\n  gameList$: BehaviorSubject<IGame[]>;\r\n\r\n  shuffle(): void;\r\n}\r\n\r\nclass GameService implements IGameService {\r\n  public buttonActive$ = new Subject<boolean>();\r\n  public gameList$: BehaviorSubject<IGame[]> = new BehaviorSubject<IGame[]>(\r\n    initialState\r\n  );\r\n\r\n  private static _instance = new GameService();\r\n\r\n  private constructor() {}\r\n\r\n  public static getInstance(): IGameService {\r\n    return this._instance;\r\n  }\r\n\r\n  /**\r\n   * @inheritdoc\r\n   */\r\n  shuffle(): void {}\r\n}\r\n\r\nexport default GameService.getInstance();\r\n","import { Box } from '@material-ui/core';\r\nimport Container from '@material-ui/core/Container';\r\nimport React from 'react';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { AppCard, Footer, Header } from '../components';\r\nimport {\r\n  GlobalActionTypes,\r\n  GlobalContext,\r\n  GlobalContextAction,\r\n  IGame\r\n} from '../context';\r\nimport { GameService } from '../service';\r\n\r\nexport default class MainPage extends React.Component<\r\n  {},\r\n  { onDestroy: Subject<void> }\r\n> {\r\n  static contextType = GlobalContext;\r\n  context!: React.ContextType<typeof GlobalContext>;\r\n\r\n  state = {\r\n    onDestroy: new Subject<void>()\r\n  };\r\n\r\n  public componentDidMount(): void {\r\n    const [, dispatch] = this.context;\r\n\r\n    GameService.gameList$\r\n      .pipe(takeUntil(this.state.onDestroy))\r\n      .subscribe((games: IGame[]): void => {\r\n        dispatch(\r\n          new GlobalContextAction<GlobalActionTypes, IGame[]>(\r\n            GlobalActionTypes.SET_GAMES,\r\n            games\r\n          )\r\n        );\r\n      });\r\n  }\r\n\r\n  public componentWillUnmount(): void {\r\n    this.state.onDestroy.next();\r\n  }\r\n\r\n  private sortGamesByRating(games: IGame[]): IGame[] {\r\n    return games.sort(\r\n      ({ rating: firstRating }: IGame, { rating: secondRating }: IGame) =>\r\n        secondRating - firstRating\r\n    );\r\n  }\r\n\r\n  render(): React.ReactNode {\r\n    const [{ ids, gamesDictionary }] = this.context;\r\n\r\n    const sortedGames = this.sortGamesByRating(\r\n      ids.map((id: string) => gamesDictionary[id])\r\n    );\r\n\r\n    return (\r\n      <Container maxWidth='xl'>\r\n        <Header />\r\n        <Box\r\n          style={{\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            justifyContent: 'center'\r\n          }}\r\n        >\r\n          {sortedGames.map((game: IGame) => (\r\n            <AppCard {...game} key={game.id} />\r\n          ))}\r\n        </Box>\r\n        <Footer />\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n","import { createMuiTheme, CssBaseline, ThemeProvider } from '@material-ui/core';\nimport React from 'react';\nimport { MainPage } from './containers';\nimport { GlobalContextProvider } from './context/GlobalContext';\n\nclass App extends React.Component {\n  render(): JSX.Element {\n    const theme = createMuiTheme({\n      typography: {\n        fontFamily: 'Dosis'\n      }\n    });\n\n    return (\n      <GlobalContextProvider>\n        <ThemeProvider theme={theme}>\n          <CssBaseline />\n          <MainPage data-testid='main-page' />\n        </ThemeProvider>\n      </GlobalContextProvider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}